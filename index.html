<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Forex Market Time</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0f172a;
      color: white;
      padding: 1rem;
      max-width: 720px;
      margin-left: auto;
      margin-right: auto;
    }
    h1 {
      color: #22c55e;
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    #currentTime {
      text-align: center;
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
    }
    select {
      display: block;
      margin: 0 auto 1.5rem;
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
    }
  </style>
</head>
<body>
  <h1>Forex Market Clock</h1>
  <div id="currentTime">Loading...</div>
  <select id="timezoneSelect"></select>

  <script>
    const currentTimeEl = document.getElementById('currentTime');
    const timezoneSelect = document.getElementById('timezoneSelect');

    async function loadTimezones() {
      const zones = Intl.supportedValuesOf('timeZone');
      zones.forEach(tz => {
        const opt = document.createElement('option');
        opt.value = tz;
        opt.textContent = tz;
        timezoneSelect.appendChild(opt);
      });
      timezoneSelect.value = Intl.DateTimeFormat().resolvedOptions().timeZone;
    }

    function updateClock() {
      const tz = timezoneSelect.value;
      const now = new Date();
      const options = {
        hour: '2-digit', minute: '2-digit', second: '2-digit',
        hour12: true,
        timeZone: tz
      };
      const formatter = new Intl.DateTimeFormat('en-US', options);
      currentTimeEl.textContent = `\u23F0 Current Time: ${formatter.format(now)} (${tz})`;

      const nextTick = 1000 - (now.getMilliseconds());
      setTimeout(updateClock, nextTick);
    }

    timezoneSelect.addEventListener('change', updateClock);
    loadTimezones().then(updateClock);
  </script>
</body>
</html>
